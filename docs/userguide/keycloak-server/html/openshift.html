<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 5. Running Keycloak Server on OpenShift</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL-NS Stylesheets V1.74.0"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="home" href="index.html" title="Keycloak Reference Guide"/><link rel="up" href="index.html" title="Keycloak Reference Guide"/><link rel="prev" href="providers.html" title="Chapter 4. Providers and SPIs"/><link rel="next" href="admin-permissions.html" title="Chapter 6. Master Admin Access Control"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="providers.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="admin-permissions.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="openshift"/>Chapter 5. Running Keycloak Server on OpenShift</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="openshift.html#d4e553">5.1. Create Keycloak instance with the web tool</a></span></dt><dt><span class="section"><a href="openshift.html#d4e566">5.2. Create Keycloak instance with the command-line tool</a></span></dt><dt><span class="section"><a href="openshift.html#d4e573">5.3. Next steps</a></span></dt></dl></div>
    

    <p>
        Keycloak provides a OpenShift cartridge to make it easy to get it running on OpenShift. If you don't already
        have
        an account or don't know how to create applications go to
        <a class="ulink" href="https://www.openshift.com/">https://www.openshift.com/</a>
        first. You can
        create the Keycloak instance either with the web tool or the command line tool, both approaches are described
        below.
    </p>

    <div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2>
        <p>
            It's important that immediately after creating a Keycloak instance you open the <code class="literal">Administration Console</code>
            and login to reset the password. If this is not done anyone can easily gain admin rights to your Keycloak instance.
        </p>
    </div>

    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d4e553"/>5.1. Create Keycloak instance with the web tool</h2></div></div></div>
        
        <p>
            Open
            <a class="ulink" href="https://openshift.redhat.com/app/console/applications">https://openshift.redhat.com/app/console/applications</a>
            and click on <code class="literal">Add Application</code>.
            Scroll down to the bottom of the page to find the
            <code class="literal">Code Anything</code>
            section. Insert
            <code class="literal">http://cartreflect-claytondev.rhcloud.com/github/keycloak/openshift-keycloak-cartridge</code>
            into the
            <code class="literal">URL to a cartridge definition</code>
            field and click on <code class="literal">Next</code>. Fill in the
            following form and click on <code class="literal">Create Application</code>.
        </p>
        <p>
            Click on <code class="literal">Continue to the application overview page</code>. Under the list of applications you should
            find your Keycloak instance and the status should be <code class="literal">Started</code>. Click on it to open the Keycloak
            servers homepage.
        </p>
    </div>

    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d4e566"/>5.2. Create Keycloak instance with the command-line tool</h2></div></div></div>
        
        <p>
            Run the following command from a terminal:
            </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">rhc app create &lt;APPLICATION NAME&gt; http://cartreflect-claytondev.rhcloud.com/github/keycloak/openshift-keycloak-cartridge</pre><p>
            Replace <code class="literal">&lt;APPLICATION NAME&gt;</code> with the name you want (for example keycloak).
        </p>
        <p>
            Once the instance is created the rhc tool outputs details about it. Open the returned <code class="literal">URL</code> in a
            browser to open the Keycloak servers homepage.
        </p>
    </div>

    <div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d4e573"/>5.3. Next steps</h2></div></div></div>
        
        <p>
            The Keycloak servers homepage shows the Keycloak logo and <code class="literal">Welcome to Keycloak</code>.
            There is also a link to the <code class="literal">Administration Console</code>. Open that and log in using username
            <code class="literal">admin</code> and password <code class="literal">admin</code>. On the first login you are required to change the password.
        </p>
        <div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip"><h2>Tip</h2>
            <p>
                On OpenShift Keycloak has been configured to only accept requests over https. If you try to use http
                you will be redirected to https.
            </p>
        </div>
    </div>
</div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="providers.html"><strong>Prev</strong>Chapter 4. Providers and SPIs</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="admin-permissions.html"><strong>Next</strong>Chapter 6. Master Admin Access Control</a></li></ul></body></html>